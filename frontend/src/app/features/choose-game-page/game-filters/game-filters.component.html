<div class="filters-container">
  <h2 class="games-heading">Browse Games</h2>
  <div class="input-container">
    <img src="assets/svg/Search_icon.svg" alt="Search" class="search-icon" />
    <input type="text" [formControl]="searchControl" placeholder="Search by game..." />
  </div>
  <div class="filters">
    <div class="category-dropdown" [class.open]="genreDropdownOpen">
      <button type="button" class="category-trigger" (click)="toggleGenreDropdown()"
        [attr.aria-expanded]="genreDropdownOpen">
        <span>{{ selectedGenreLabel }}</span>
        <span class="category-trigger__arrow" aria-hidden="true">â–¾</span>
      </button>

      <div class="category-dropdown__list" *ngIf="genreDropdownOpen" role="listbox">
        <button type="button" class="category-option" *ngFor="let genre of genres"
          [class.is-active]="selectedGenre === genre.value" (click)="selectGenre(genre.value)" role="option"
          [attr.aria-selected]="selectedGenre === genre.value">
          {{ genre.label }}
        </button>
      </div>

      <select class="category-native" (change)="onGenreChange($event)" id="game-genre" name="game-genre"
        [value]="selectedGenre" aria-hidden="true" tabindex="-1">
        <option *ngFor="let genre of genres" [value]="genre.value">{{ genre.label }}</option>
      </select>
    </div>
    <app-button class="sort-button" [variant]="sortByPopularity ? 'highlight' : 'default'" size="medium"
      [label]="sortByPopularity ? 'Sorted by Popularity' : 'Sort by Popularity'" (click)="onToggleSort()"
      [state]="sortByPopularity ? 'active' : undefined" [attr.aria-pressed]="sortByPopularity"
      aria-label="Toggle sort by popularity">
    </app-button>

  </div>
</div>
